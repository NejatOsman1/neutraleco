{% extends '@Cms/base.html.twig' %}
{% trans_default_domain 'cms' %}

{% block pagetitle %}{{'Blog'|trans}}{% endblock %}

{% block body %}
	<div class="card">
		<div class="card-content">
			<span class="card-title">{{ 'Blogs' | trans }}</span>
			{% if blogs %}
				<table class="bordered striped highlight responsive-table">
					<thead>
						<tr>
							<th class="center-align" style="width:40px;">{{'ID'|trans}}</th>
							<th>{{'Omschrijving'|trans}}</th>
							<th class="center-align" style="width:80px;">{{'Berichten'|trans}}</th>
							<th class="center-align" style="width:100px;">{{'Acties'|trans}}</th>
						</tr>
					</thead>
					<tbody>
						{% for Blog in blogs %}
							<tr>
								<td class="center-align">{{ Blog.id|e }}</td>
								<td>{{ Blog.label|e }}</td>
								<td class="center-align">{{ Blog.entries|length }}</td>
								<td class="center-align">
									<a href="{{ path('admin_mod_blog_entry',{'id': Blog.id}) }}" title="{{'Bekijken'|trans}}"><i class="material-icons">zoom_in</i></a>
									<a href="{{ path('admin_mod_blog_edit',{'id': Blog.id}) }}" title="{{'Edit'|trans}}"><i class="material-icons">mode_edit</i></a>

									<a href="#" onclick="cpop.confirm('{{'Wilt u de blog <b>%label%</b> verwijderen?' | trans({'%label%': Blog.label|e}) | raw }}', function(){
										window.location = '{{ path('admin_mod_blog_delete',{'id': Blog.id}) }}';
									} ); return false;" title="{{'Verwijderen'|trans}}"><i class="material-icons">delete</i></a>
								</td>
							</tr>
						{% endfor %}
					</tbody>
				</table>
			{% else %}
				<div class="no-data">{{'Er zijn nog geen gegevens beschikbaar.'|trans}}</div>
			{% endif %}
	    </div>
    </div>

	<div class="card">
		<div class="card-content center">
			<a href="{{path('admin_mod_blog_edit')}}" class="btn-large">{{ 'Nieuwe blog' | trans }}</a>
		</div>
    </div>

    <script type="text/javascript">
    $(".tablesorter").tablesorter({
        // sort on the first column and third column, order asc
        sortList: [[4,1]],
        headers: {
        	4: {sorter:"dd-mm-yyyy hh:ii:ss"},
            6: {sorter: false}
        }
    });
    </script>
{% endblock %}
