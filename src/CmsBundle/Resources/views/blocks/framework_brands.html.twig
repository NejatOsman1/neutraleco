{#
    {
        "key": "framework_brands",
        "category": "Framework",
        "label": "Logo's (carousel)",
        "description": "Toont logo's in carousel vorm",
        "allowMove": true,
        "blocks": [
            {
                "key": "block-0",
                "size": 3,
                "multiple": true,
                "minimum": 1,
                "required": "media",
                "fields": []
            }
        ]
    }
#}

{#
    Available objects:

    - page: current page
    - locale: current locale
    - wrapper: contains the wrapper around multiple blocks.
    - firstBlock: contains the first block in the wrapper, useful when only one block is expected.
    - data: contains the data as mentioned above this file
#}

<section
class="brands {{wrapper.classList}}"
id="{{wrapper.cssId is defined ? wrapper.cssId : ''}}"
style="{{wrapper.styleList}}"
data-id="{{wrapper.id}}">

  <div class="container">
    {% if wrapper.label or wrapper.intro is not empty %}
      <div class="introblock">
        {% if wrapper.label is not empty %}
          <div class="introtitle">
            {{wrapper.label|raw}}
          </div>
        {% endif %}
        {% if wrapper.intro is not empty %}
          <div class="introtext">
            {{wrapper.intro|raw}}
          </div>
        {% endif %}
      </div>
    {% endif %}

    <div class="swiper-content">
      <div class="swiper-container swiper-brands swiper-brands-{{wrapper.id}}" data-wrapperid="{{wrapper.id}}">
        <div class="swiper-wrapper">
          {% for b in wrapper.blocks %}
            {% if b.media is not empty %}
              <div class="swiper-slide">
                {% if b.config.link is defined and b.config.link is not empty %}
                  <a href="{{b.config.link}}">
                  {% endif %}

                  {% if b.media is not empty %}
                    <div class="lcp">
                      {% if b.media.hasBlurred %}
                        <picture>
                          {% if b.media.hasWebp() %}
                            <source srcset="/{{b.media.getBlurredWebpPath('small')}}" type="image/webp">
                          {% endif %}
                          <source srcset="/{{b.media.getBlurredWebPath('small')}}" type="{{b.media.mime}}">
                          <img class="lq" alt="{{b.media.description_alt}}" src="/{{b.media.getBlurredWebPath('small')}}" type="{{b.media.mime}}" loading="lazy" width="{{b.media.width}}" height="{{b.media.height}}">
                        </picture>
                      {% endif %}
                      <picture>
                        {% if b.media.hasWebp() %}
                          <source srcset="/{{b.media.getWebpPath('full')}}" type="image/webp">
                        {% endif %}
                        <source srcset="/{{b.media.getWebPath('full')}}" type="{{ b.media.mime }}">
                        <img class="hq" alt="{{b.media.description_alt}}" src="/{{b.media.getWebPath('full')}}" type="{{b.media.mime}}" loading="lazy" width="{{b.media.width}}" height="{{b.media.height}}" onload="this.style.opacity=1{% if b.media.hasBlurred %};this.closest('.lcp').getElementsByClassName('lq')[0].style.opacity=0;{% endif %}" style="opacity: 0;">
                      </picture>
                    </div>
                  {% endif %}

                  {% if b.config.link is defined and b.config.link is not empty %}
                  </a>
                {% endif %}
              </div>
            {% endif %}
          {% endfor %}
        </div>

        <div class="swiper-pagination"></div>
        <div class="swiper-button-prev"></div>
        <div class="swiper-button-next"></div>
      </div>
    </div>
  </div>
</section>
</script>
